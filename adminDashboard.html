<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <title>adminDashboard</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        img{
            height: 150px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);

        }

        /* @media only screen and (max-width: 575px) {
            #imageDiv {
                text-align: center;
                display: flex;
                justify-content: center;
            }
        } */
        .mainDiv{
            max-width: 100%;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        #dp{
            width: 200px;
            height: 200px;
            border-radius: 50%;
        }
        .offcanvas {
            transform: translateX(calc(100% - 10px));
            margin-top: 0%;
        }
        td{
            text-align: left;
        }
        
    </style>
</head>
<body>
    <div class="mainDiv">
<!-- 
        <div class="pos-f-t">

            <nav class="navbar navbar-dark bg-dark">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </nav>
            <div class="collapse" id="navbarToggleExternalContent">
                <div class="bg-light text-dark p-1 btn-group-vertical">
                    <div class="btn btn-dark "><button >view students</button></div>

                    <div class="btn btn-dark"><button >logout</button></div>
                    
                </div>
            </div>
        </div> -->

        <div>
            <nav class="navbar bg-body-tertiary navbar-expand-lg">
                <div class="container-fluid">
                  <a href="#" class="navbar-brand text-center"> St.Joseph</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="offcanvas offcanvas-top w-30 h-50" tabindex="1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                    <div class="offcanvas-header">
                      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">About</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body ">
                        
                      <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                          <a class="nav-link active" aria-current="page" href="#"></a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link active" aria-current="page" href="#"></a>
                          <a href="#">Admin <span id="username"></span> </a>
                        </li>
                        
                      </ul>
                        
                     
                    </div>
                  </div>
                </div>
            </nav>
            
        </div>

        <div class="d-flex justify-content-around mt-3 bg-success row">

            <div id="imageDiv" class="mt-5 col col-12 col-sm-12 col-md-6 col-lg-6">
                <div class="row gap-3">
                    <div class="text-center">
                        <img id="dp" src="dp2.jpg" alt="" class="col col-3 col-sm-3 col-md-12 col-lg-12">
                    </div>
                    <div id="details" class="mt-3 col col-7 col-sm-7 col-md-12 col-lg-12 w-100">
                        <table class="table text-left ">
                            <tr>
                                <td>Full Name</td>
                                <td id="aname" id="naveen">naveen</td>
                            </tr>
                            
                            <tr>
                                <td>Subject</td>
                                <td id="asubject">naveen</td>
                            </tr>
                            
                            <tr>
                                <td>Mobile</td>
                                <td id="amobile">naveen</td>
                            </tr>
                            
                            <tr>
                                <td>Gmail</td>
                                <td id="aemail">naveen</td>
                            </tr>
                        </table>
                    </div>
                </div>
                
            </div>

            <div class="col col-12 col-sm-12 col-md-6 col-lg-6 mt-5 bg-dark">
                <h6 class="text-light mt-1">search for the students in school</h6>
                <div class="d-flex">
                    <input id="input" class="form-control" type="search" placeholder="search students" aria-label="Search" value="naveen123">&nbsp;
                    <button class="btn btn-sm btn-outline-primary" type="submit" onclick="run()">Search</button>
                </div>

                <div>
                    
                    <table class="table mt-3 text-left">
                        <tr>
                            <td class="text-center " colspan="2">
                                <img id="d" src="dp2.jpg" alt="">
                            </td>
                        </tr>
                        <tr>
                            <td>Full Name</td>
                            <td id="name"></td>
                        </tr>
                        
                        <tr>
                            <td>Class</td>
                            <td id="class"></td>
                        </tr>
                        <tr>
                            <td>Roll Number</td>
                            <td id="rollnumber"></td>
                        </tr>
                        <tr>
                            <td>Age</td>
                            <td id="age"></td>
                        </tr>
                        <tr>
                            <td>Gender</td>
                            <td id="gender"></td>
                        </tr>
                        
                        <tr>
                            <td>Parent Name</td>
                            <td id="parentname"></td>
                        </tr>
                        
                        <tr>
                            <td>Parent Mobile</td>
                            <td id="mobile"></td>
                        </tr>
                        <tr>
                            <td>Adress</td>
                            <td id="adress"></td>
                        </tr>
                        <tr>
                            <td>Gmail</td>
                            <td id="email"></td>
                        </tr>
                    </table>
                </div>
               

            </div>

        </div>

    </div>


    <script>
        var username = localStorage.getItem("usernameAdmin")
        console.log(username)

        fetch(" http://localhost:3000/Admins?username="+username)
        .then(response => response.json())
        .then((data) => {
            console.log(data)
            // document.getElementById("dp").src = data[0].img

            document.getElementById("aname").innerText = data[0].name
            document.getElementById("asubject").innerText = data[0].subject

            document.getElementById("amobile").innerText = data[0].mobile
            document.getElementById("aemail").innerText = data[0].email
        })

        function run(){

            var username = document.getElementById("input").value
            console.log()
            fetch("http://localhost:3000/Students?username="+username)
            .then(response => response.json())
            .then((data)=> {
                try{
                    

                    document.getElementById("name").innerText = data[0].name
                    document.getElementById("class").innerText = data[0].class
                    document.getElementById("rollnumber").innerText = data[0].rollnumber
                    document.getElementById("gender").innerText = data[0].gender
                    document.getElementById("age").innerText = data[0].age
                    document.getElementById("parentname").innerText = data[0].parentname
                    document.getElementById("mobile").innerText = data[0].mobile
                    document.getElementById("adress").innerText = data[0].address
                    document.getElementById("email").innerText = data[0].email
                    document.getElementById("username").innerText = data[0].username
                }catch(error){
                    document.getElementById("name").innerText = "incorect details/Student not found"

                }
            })

        }

    </script>
</body>
</html>